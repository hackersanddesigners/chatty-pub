{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Streams/index.vue?d359","webpack:///./src/components/Content/index.vue?93d5","webpack:///./src/components/Rules/index.vue?03cd","webpack:///./src/App.vue","webpack:///./src/api/zulip/index.js","webpack:///./src/api/index.js","webpack:///./src/components/Rules/Styles.vue","webpack:///./src/mixins/emoji.js","webpack:///./src/components/Rules/Styles.vue?c5e6","webpack:///./src/App.vue?97f5","webpack:///./src/views/Home.vue","webpack:///./src/components/Streams/index.vue","webpack:///./src/components/Streams/Stream.vue","webpack:///./src/components/Streams/Stream.vue?fb31","webpack:///./src/components/Streams/index.vue?8680","webpack:///./src/components/Content/index.vue","webpack:///./src/components/Content/Chapter.vue","webpack:///./src/components/Content/Message.vue","webpack:///./src/components/Content/Message.vue?3100","webpack:///./src/components/Content/Chapter.vue?28f3","webpack:///./src/components/Content/index.vue?4e8c","webpack:///./src/components/Rules/index.vue","webpack:///./src/components/Rules/Rule.vue","webpack:///./src/components/Rules/Rule.vue?1f70","webpack:///./src/components/Rules/index.vue?0ce9","webpack:///./src/views/Home.vue?c772","webpack:///./src/views/Docs.vue","webpack:///./docs/CSS.md","webpack:///./docs/Workshop.md","webpack:///./docs/Chattypub.md","webpack:///./src/views/Docs.vue?3bf9","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?b754","webpack:///./src/views/Docs.vue?0756","webpack:///./src/views/Home.vue?4fa3","webpack:///./src/components/Rules/Rule.vue?3b2c","webpack:///./src/components/Content/Message.vue?990d","webpack:///./src/components/Content/Chapter.vue?a885","webpack:///./src/components/Streams/Stream.vue?6225"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","class","isMobile","Component","zulip","require","config","username","process","apiKey","realm","init","Promise","resolve","reject","then","client","catch","error","getStreams","streams","retrieve","getTopics","stream","topics","stream_id","getMsgs","topic","params","messages","anchor","num_before","num_after","narrow","operator","operand","getAllMsgs","listen","cb","callOnEachEvent","event","getSubs","subscriptions","addSub","users","me","add","JSON","stringify","sendMsg","send","to","type","content","emoji_regex","methods","toEmojiCode","emoji","replace","codePointAt","toString","containsEmoji","str","regexExp","test","mixins","computed","el","generateStyleRules","styles","this","rules","map","console","log","replaceAll","family","src","format","className","startsWith","parentClassName","createStyleElement","style","document","createElement","innerText","mounted","head","appendChild","watch","newStyle","replaceChild","render","components","Styles","api","zulipClient","created","$store","commit","checkIfMobile","addEventListener","$router","beforeEach","afterEach","from","path","currentStream","find","setUpDoc","innerWidth","filter","pubStr","eventHandler","includes","message","subject","message_id","mid","rendered_content","op","reaction","emoji_code","emoji_name","reaction_type","for","href","classes","show_ui","toggle_ui","resizer","size","panel_sizes","min-size","print","show_message_data","expand_content","ref","selected","props","state","__scopeId","Stream","title","sortedTopics","toValidID","goTo","messagesToShow","sender_full_name","time","source","$mdOpts","reactions","String","fromCodePoint","EmojiConvertor","emojiConv","rawJSON","url","referrers","responseTo","sender_id","quote","forEach","join","replace_colons","ts","timestamp","ts_ms","date_ob","Date","toLocaleString","Message","Chapter","string","encodeURIComponent","toLowerCase","querySelector","scrollIntoView","behavior","rule","contentFiltered","font","dec","reg","Rule","Streams","Content","Rules","Splitpanes","Pane","setup","preview","0","1","2","panels","prev","setTimeout","print_preview","getElementById","paged","flow","total","evt","undefined","$forceUpdate","files","file","select","html","Workshop","Chattypub","CSS","getFileName","includeExtension","matches","match","createRouter","history","createWebHistory","routes","component","Home","Docs","toCSS","stripHtml","is_codeblock","is_font","regex","results","matchAll","Array","re_path","exec","split","validateRule","filename","getFilename","ext","pop","getFormat","fmt","handleMDReply","handleHTMLReply","table","createStore","strict","mutations","setMobile","mobile","setStreams","setCurStream","setTopics","addMessage","display_recipient","deleteMessage","indexOf","addReaction","flat","removeReaction","setRules","reduce","acc","cur","addRule","editMessage","newRules","updateTopic","orig_subject","actions","getters","sort","a","b","localeCompare","app","createApp","App","mdOpts","linkify","typographer","globalProperties","$http","Axios","$md","MarkdownIt","use","VueMarkdownIt","router","store","mount"],"mappings":"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","file":"js/app.343fd0d3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=4514be34&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=c018ffc4&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=16b43aee&scoped=true&lang=css\"","<template>\n  <div id=\"app\" :class=\"[{ mobile: isMobile }]\">\n    <Styles />\n\n    <!-- <header>\n      <code>Zulip URL: {{ api.zulip.config.realm }}</code>\n    </header> -->\n    <main>\n      <router-view v-slot=\"{ Component }\">\n        <transition name=\"component-fade\" mode=\"out-in\">\n          <component :is=\"Component\" />\n        </transition>\n      </router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport api from \"./api\";\nimport Styles from \"./components/Rules/Styles.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Styles,\n  },\n  data() {\n    return {\n      api: api,\n      zulipClient: null,\n    };\n  },\n  computed: {\n    ...mapState([\"isMobile\", \"pubStr\", \"currentStream\", \"streams\"]),\n  },\n  created() {\n    this.$store.commit(\"setMobile\", this.checkIfMobile());\n    window.addEventListener(\"resize\", () => {\n      this.$store.commit(\"setMobile\", this.checkIfMobile());\n    });\n\n    this.$router.beforeEach(async () => {\n      if (!this.zulipClient || this.streams.length == 0) {\n        await this.getStreams()\n      }\n    })\n\n    this.$router.afterEach((to, from) => {\n      if (to.path !== from.path) {\n        this.$store.commit(\"setTopics\", []);\n        this.$store.commit(\"setRules\", []);\n        this.$store.commit(\"setCurStream\", to.path.replace(\"/\", \"\"));\n        if (this.currentStream != \"\"\n        && this.streams.find(s => s.name == this.currentStream)\n        ) {\n          this.setUpDoc(this.currentStream);\n        }\n      }\n    });\n  },\n\n  methods: {\n    checkIfMobile: () => window.innerWidth < 700,\n\n    getStreams() {\n      return new Promise(resolve => {\n        api.zulip.init().then((client) => {\n          this.zulipClient = client;\n          api.zulip.getStreams(client).then(async (streams) => {\n            for (let stream of streams) {\n              stream.topics = await api.zulip.getTopics(client, stream.stream_id)\n            }\n            this.$store.commit(\n              \"setStreams\",\n              streams.filter((s) => (\n                s.topics.find(t => t.name == 'rules') ||\n                s.name.startsWith(this.pubStr)\n              ))\n            );\n            resolve()\n          });\n          api.zulip.listen(this.zulipClient, this.eventHandler);\n        });  \n      })\n    },\n\n    setUpDoc(stream) {\n      api.zulip.getSubs(this.zulipClient).then((result) => {\n        if (\n          !result.subscriptions.map((s) => s.name).includes(this.currentStream)\n        ) {\n          api.zulip.addSub(this.zulipClient, this.currentStream);\n        }\n      });\n\n      api.zulip.getAllMsgs(this.zulipClient, stream).then((result) => {\n        for (let m = 0; m < result.messages.length; m++) {\n          const message = result.messages[m];\n          if (message.subject == \"rules\") {\n            this.$store.commit(\"addRule\", message);\n          } else {\n            this.$store.commit(\"addMessage\", message);\n          }\n        }\n      });\n    },\n\n    eventHandler(event) {\n      console.log(event);\n      switch (event.type) {\n        case \"message\":\n          switch (event.message.subject) {\n            case \"rules\":\n              this.$store.commit(\"addRule\", event.message);\n              break;\n            default:\n              this.$store.commit(\"addMessage\", event.message);\n              break;\n          }\n          break;\n\n        case \"delete_message\":\n          this.$store.commit(\"deleteMessage\", event.message_id);\n          break;\n\n        case \"update_message\":\n          this.$store.commit(\"editMessage\", {\n            mid: event.message_id,\n            content: event.rendered_content,\n          });\n          break;\n\n        case \"reaction\":\n          this.$store.commit(`${event.op}Reaction`, {\n            mid: event.message_id,\n            reaction: {\n              emoji_code: event.emoji_code,\n              emoji_name: event.emoji_name,\n              reaction_type: event.reaction_type,\n            },\n          });\n          break;\n\n        default:\n          console.log(\"Event type unknown\", event.type);\n      }\n    },\n  },\n};\n</script>\n\n<style>\n:root {\n  --back: white;\n}\n\nhtml,\nbody,\n#app {\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  background: var(--back);\n}\n\n#app {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  font-size: 11pt;\n\n  /* flex-direction: column; */\n}\n\nheader {\n  position: relative;\n  box-sizing: border-box;\n  font-size: 9pt;\n}\n\nmain {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\nsection {\n  position: relative;\n  box-sizing: border-box;\n  /* margin-left: 1em; */\n  padding: 1em;\n  /* min-width: 800px; */\n  /* max-width: 800px; */\n  display: flex;\n  flex-direction: column;\n  /* overflow: scroll; */\n  /* background: lightgray; */\n}\nsection p {\n  margin-bottom: 0;\n  margin-top: 0;\n}\n@media print {\n  .title {\n    /* display: none; */\n  }\n}\n</style>\n","const \n\n  zulip   = require(\"zulip-js\"),\n  config  = {\n    username: process.env.VUE_APP_ZULIP_email,\n    apiKey: process.env.VUE_APP_ZULIP_key,\n    realm: process.env.VUE_APP_ZULIP_site,\n  },\n  \n  init    = () => ( new \n    Promise((resolve, reject) => {\n      zulip(config)\n      .then(client => resolve(client))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  getStreams = client => ( new\n    Promise((resolve, reject) => {\n     client\n     .streams\n     .retrieve()\n      .then(result => resolve(result.streams))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  getTopics = (client, stream) => ( new\n    Promise((resolve, reject) => {\n     client\n     .streams\n     .topics\n     .retrieve({ stream_id: stream })\n      .then(result => resolve(result.topics))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  getMsgs = (client, stream, topic, params) => ( new\n    Promise((resolve, reject) => {\n     client\n     .messages\n     .retrieve(params || {\n        anchor: \"newest\",\n        num_before: 1000,\n        num_after: 0,\n        // apply_markdown: false,\n        narrow: [\n          { operator: \"stream\", operand: stream },\n          { operator: \"topic\",  operand: topic },\n        ],\n      })\n      .then(result => resolve(result))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  getAllMsgs = (client, stream, params) => ( new\n    Promise((resolve, reject) => {\n     client\n     .messages\n     .retrieve(params || {\n        anchor: \"newest\",\n        num_before: 1000,\n        num_after: 0,\n        // apply_markdown: false,\n        narrow: [{ operator: \"stream\", operand: stream }],\n      })\n      .then(result => resolve(result))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  listen = (client, cb) => {\n    client\n    .callOnEachEvent(\n      event => cb(event), \n      [ 'message' ],\n      [ { operator: \"stream\", operand: \"chatty\" } ]\n    )\n  },\n  \n  getSubs = client => ( new\n    Promise((resolve, reject) => {\n     client\n     .streams\n     .subscriptions\n     .retrieve()\n      .then(result => resolve(result))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  addSub = (client, stream) => ( new\n    Promise((resolve, reject) => {\n      client\n      .users\n      .me\n      .subscriptions\n      .add(\n        {\n          subscriptions: JSON.stringify([{ name: stream }]),\n        }\n      )\n      .then(result => resolve(result))\n      .catch(error => reject(error))\n    })\n  ),\n  \n  sendMsg = (client, params) => ( new\n    Promise((resolve, reject) => {\n      client\n      .messages\n      .send(params || {\n        to: \"chatty\",\n        type: \"stream\",\n        topic: \"content\",\n        content: \"I come not, friends, to steal away your hearts.\",\n      })\n      .then(result => resolve(result))\n      .catch(error => reject(error))\n    })\n  )\n\nexport default {\n  init,\n  config,\n  getStreams,\n  getTopics,\n  getMsgs,\n  getAllMsgs,\n  listen,\n  sendMsg,\n  getSubs,\n  addSub,\n}\n","import zulip from './zulip'\n\nexport default {\n  zulip\n}\n","<template>\n  <template></template>\n  <!-- placeholder for styles component -->\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport emoji from \"../../mixins/emoji\";\n\nexport default {\n  name: \"Styles\",\n  mixins: [emoji],\n  computed: {\n    ...mapState([\"rules\"]),\n  },\n  data() {\n    return {\n      el: null,\n    };\n  },\n  methods: {\n    generateStyleRules() {\n      let styles = \"\";\n      this.rules.map((r) => {\n        switch (r.type) {\n          case \"raw\":\n            console.log(\"raw\", r.content);\n            styles += r.content.replaceAll(\"\\n\", \" \");\n            break;\n          case \"font\":\n            // styles += `@font-face { font-family: \"${r.content.family}\"; src: \"${r.content.src}\" format(\"${r.content.format}\"); }`;\n            styles += `@font-face { font-family: \"${r.content.family}\"; src: url(\"${r.content.src}\") format(\"${r.content.format}\"); }`;\n            break;\n          default:\n            if (r.className.startsWith(\"@\")) {\n              styles += r.className;\n            } else {\n              styles += `.${r.parentClassName} ${r.className}`;\n              if (this.containsEmoji(r.className)) {\n                styles += `, .${r.parentClassName} .u${this.toEmojiCode(\n                  r.className\n                )}`;\n              }\n            }\n            styles += \"{\";\n            r.rules.map((s) => {\n              styles += s;\n            });\n            styles += \"}\";\n        }\n      });\n      return styles;\n    },\n    createStyleElement() {\n      var style = document.createElement(\"style\");\n      style.innerText = this.generateStyleRules();\n      return style;\n    },\n  },\n  mounted() {\n    this.el = this.createStyleElement();\n    document.head.appendChild(this.el);\n  },\n  watch: {\n    rules() {\n      const newStyle = this.createStyleElement();\n      document.head.replaceChild(newStyle, this.el);\n      this.el = newStyle;\n    },\n  },\n};\n</script>","// let toUTF16 = (codePoint) => {\n//   var TEN_BITS = parseInt(\"1111111111\", 2);\n//   if (codePoint <= 0xffff) {\n//     return u(codePoint);\n//   }\n//   codePoint -= 0x10000;\n//   // Shift right to get to most significant 10 bits\n//   var leadSurrogate = 0xd800 + (codePoint >> 10);\n//   // Mask to get least significant 10 bits\n//   var tailSurrogate = 0xdc00 + (codePoint & TEN_BITS);\n//   return u(leadSurrogate) + (tailSurrogate);\n// }\n\n// let u = (codeUnit) => {\n//   return \"\\\\u\" + codeUnit.toString(16).toUpperCase();\n// }\n\nexport default {\n  data() {\n    return {\n      emoji_regex: /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*/gi\n    }\n  },\n\n  methods: {\n    toEmojiCode: (emoji) => {\n      return emoji.replace(/\\p{Emoji}/gu, (m) => m.codePointAt(0).toString(16));\n    },\n\n    // toEmojiCode: (emoji) => {\n    //   emoji.replace(/\\p{Emoji}/gu, function (m) {\n    //     toUTF16(m.codePointAt(0));\n    //   });\n    //   return emoji;\n    // },\n\n    containsEmoji(str) {\n      // Regular expression to match emoji\n      const regexExp = /(\\u00a9|\\u00ae|[\\u2000-\\u3300]|\\ud83c[\\ud000-\\udfff]|\\ud83d[\\ud000-\\udfff]|\\ud83e[\\ud000-\\udfff])/gi;\n      return regexExp.test(str); // true\n    },\n  }\n}","import { render } from \"./Styles.vue?vue&type=template&id=7b4da880\"\nimport script from \"./Styles.vue?vue&type=script&lang=js\"\nexport * from \"./Styles.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=6d28ae45\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6d28ae45&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"pane-wrapper\" :class=\"classes\">\n    <button v-if=\"!show_ui\" @click=\"toggle_ui\" class=\"float-btn ui\">\n      {{ show_ui ? \"Hide\" : \"Show\" }} UI\n    </button>\n    <splitpanes class=\"default-theme\" @resize=\"resizer\">\n      <pane\n        class=\"controls-pane\"\n        v-if=\"show_ui\"\n        :size=\"panel_sizes[0]\"\n        min-size=\"5\"\n      >\n        <Streams />\n        <div class=\"controls\">\n          <button @click=\"toggle_ui\">{{ show_ui ? \"Hide\" : \"Show\" }} UI</button>\n          <button @click=\"print\">Print</button>\n          <!-- <button @click=\"print_preview\">Preview</button> -->\n          <label for=\"msg-data\"\n            ><input\n              type=\"checkbox\"\n              id=\"msg-data\"\n              value=\"1\"\n              v-model=\"show_message_data\"\n            />\n            Show chat message data</label\n          >\n          <p class=\"notice\">\n            Regrettably support for setting page size, page breaks etc. using\n            <a href=\"https://caniuse.com/css-paged-media\">@page</a> is very poor\n            in most browsers. Use MS Edge, Opera or Google Chrome for best\n            results when printing or creating PDFs.\n          </p>\n          <button @click=\"$router.push({ path: 'docs' })\">Docs</button>\n        </div>\n      </pane>\n      <pane :size=\"panel_sizes[1]\" :class=\"currentStream\">\n        <Content\n          :print=\"!show_ui || expand_content\"\n          :show_message_data=\"show_message_data\"\n          ref=\"content\"\n        />\n      </pane>\n      <pane v-if=\"show_ui\" :size=\"panel_sizes[2]\" min-size=\"15\">\n        <Rules />\n      </pane>\n      <!-- <pane v-if=\"show_ui\" size=\"35\" min-size=\"15\"\n        ><div ref=\"preview\"></div>\n      </pane> -->\n    </splitpanes>\n  </div>\n</template>\n\n<script>\n/*eslint no-unused-vars: \"off\"*/\n/*eslint no-undef: \"off\"*/\nimport Streams from \"../components/Streams\";\nimport Content from \"../components/Content\";\nimport Rules from \"../components/Rules\";\nimport { Splitpanes, Pane } from \"splitpanes\";\nimport \"splitpanes/dist/splitpanes.css\";\nimport { Previewer } from \"pagedjs\";\n\nimport { ref, onMounted } from \"vue\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    Streams,\n    Content,\n    Rules,\n    Splitpanes,\n    Pane,\n  },\n  setup() {\n    const preview = ref(null);\n    return {\n      preview,\n    };\n  },\n  data: () => {\n    return {\n      show_ui: true,\n      show_message_data: false,\n      panel_sizes: { 0: 10, 1: 55, 2: 35 },\n      expand_content: false,\n    };\n  },\n  computed: {\n    classes() {\n      return this.show_ui ? \"ui\" : \"print\";\n    },\n    currentStream() {\n      return this.$store.state.currentStream;\n    },\n  },\n  methods: {\n    resizer(panels) {\n      for (let i = 0; i < panels.length; i++) {\n        this.panel_sizes[i] = panels[i].size;\n      }\n    },\n    print() {\n      let prev = this.show_ui;\n      this.toggle_ui(null, false);\n      setTimeout(() => {\n        window.print();\n        if (prev) this.toggle_ui(null, true);\n      }, 1000);\n    },\n    print_preview() {\n      this.expand_content = true;\n      let content = document.getElementById(\"content\");\n      let paged = new Previewer();\n      paged\n        .preview(content, [\"path/to/css/file.css\"], this.preview)\n        .then((flow) => {\n          console.log(\"Rendered\", flow.total, \"pages.\");\n        });\n    },\n    toggle_ui(evt, state) {\n      if (state !== undefined) this.show_ui = state;\n      else this.show_ui = !this.show_ui;\n      this.$forceUpdate();\n    },\n  },\n};\n</script>\n\n<style>\n#home {\n  position: relative;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  display: flex;\n}\n.controls-pane {\n  background-color: #aaa;\n}\n\n.splitpanes--vertical .splitpanes__pane {\n  overflow-y: scroll;\n}\n\n.splitpanes.default-theme .splitpanes__pane {\n  background-color: unset;\n}\n\n.pane-wrapper {\n  height: 100vh;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n}\n\n.print .pane-wrapper {\n  height: auto;\n}\n\n.print .splitpanes__pane {\n  overflow: initial;\n}\n\n.print .content iframe {\n  width: 100%;\n  height: 100%;\n}\n\n/* absolutely needed to make the page breaks work (next style) */\n.print section {\n  display: block !important;\n}\n\n.print .body {\n  page-break-after: always;\n  /* border-bottom: 3px dotted green; */\n}\n\n.body img {\n  max-width: 100%;\n}\n\n/* .print .body:first-of-type {\n  page-break-after: always;\n  border-bottom: 3px dotted yellow;\n} */\n\n.float-btn {\n  position: fixed;\n  z-index: 1000;\n}\n\n@media print {\n  .ui {\n    display: none !important;\n  }\n}\n</style>","<template>\n  <section class=\"streams\">\n    <!-- <p class=\"title\">{{ $.type.name }}</p> -->\n    <Stream v-for=\"stream in streams\" :key=\"stream.id\" :stream=\"stream\" />\n  </section>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport Stream from \"./Stream\";\n\nexport default {\n  name: \"Streams\",\n  components: {\n    Stream,\n  },\n  computed: {\n    ...mapState([\"streams\"]),\n  },\n};\n</script>\n\n<style scoped>\n.streams {\n  min-width: 10em;\n  padding: 0;\n  margin-bottom: 1em;\n}\n</style>","<template>\n  <div :class=\"{ selected: selected }\">\n    <p class=\"name\">\n      <router-link :to=\"stream.name\">\n        {{ stream.name }}\n      </router-link>\n    </p>\n    <!-- <p class=\"desc\">{{ stream.description }}</p> -->\n  </div>  \n</template>\n\n<script>\nexport default {\n  name: 'Stream',\n  props: [ \n    'stream'\n  ],\n  computed: {\n    selected() { return this.$store.state.currentStream == this.stream.name }\n  },\n}\n</script>\n\n<style scoped>\ndiv {\n  padding: 0.5em;\n}\ndiv .selected {\n  background: rgb(247, 146, 247);\n}\ndiv p {\n  margin: 0;\n}\n\n\n</style>","import { render } from \"./Stream.vue?vue&type=template&id=1af39708&scoped=true\"\nimport script from \"./Stream.vue?vue&type=script&lang=js\"\nexport * from \"./Stream.vue?vue&type=script&lang=js\"\n\nimport \"./Stream.vue?vue&type=style&index=0&id=1af39708&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1af39708\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=4514be34&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4514be34&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4514be34\"\n\nexport default script","<template>\n  <section>\n    <h1 class=\"title\">{{ title }}</h1>\n    <ul>\n      <li\n        v-for=\"topic in sortedTopics\"\n        :key=\"topic.title\"\n      >\n        <router-link \n          :to=\"`#${toValidID(topic.title)}`\"\n          @click.stop=\"goTo(`#${toValidID(topic.title)}`)\" \n        >\n          {{ topic.title }}\n        </router-link>\n      </li>\n    </ul>\n    <div style=\"float: none\"><div style=\"page-break-after: always\"></div></div>\n    <Chapter\n      v-for=\"topic in sortedTopics\"\n      :key=\"topic.title\"\n      :id=\"toValidID(topic.title)\"\n      :topic=\"topic\"\n      :print=\"print\"\n      :show_message_data=\"show_message_data\"\n    />\n  </section>\n</template>\n\n<script>\nimport { mapGetters, mapState } from \"vuex\";\nimport Chapter from \"./Chapter.vue\";\n\nexport default {\n  name: \"Content\",\n  components: {\n    Chapter,\n  },\n  props: [\"print\", \"show_message_data\"],\n  computed: {\n    ...mapState([\"currentStream\", \"streams\"]),\n    ...mapGetters([\"sortedTopics\"]),\n    title() {\n      return this.streams.find(s => s.name == this.currentStream) ? \n        this.currentStream.replace(\"pub-\", \"\") : 'Stream  does not exist.'\n    }\n    \n  },\n  methods: {\n    toValidID(string) { return (\n      encodeURIComponent('ch-' + string)\n      .toLowerCase()\n      .replace(/\\.|%[0-9a-z]{2}/gi, '')\n    )},\n    goTo(id) {\n      document\n      .querySelector(`.${this.currentStream} ${id}`)\n      .scrollIntoView({\n        behavior: 'smooth'\n      })\n    }\n  },\n};\n</script>\n\n<style scoped>\n@media print {\n  .title {\n    /* display: none; */\n  }\n}\n</style>","<template>\n  <div class=\"body\">\n    <h2 class=\"header\">\n      <span>{{ topic.title }}</span>\n    </h2>\n    <div>\n      <span v-for=\"message in messagesToShow\" :key=\"message.id\">\n        <Message :message=\"message\" :show_message_data=\"show_message_data\" />\n        <span>&nbsp;</span>\n      </span>\n    </div>\n\n    <div style=\"float: none\"><div style=\"page-break-after: always\"></div></div>\n  </div>\n</template>\n\n<script>\nimport Message from \"./Message\";\n\nexport default {\n  name: \"Chapter\",\n  components: {\n    Message,\n  },\n  data() {\n    return {\n    }\n  },\n  props: [\"topic\", \"show_message_data\"],\n  computed: {\n    messagesToShow() {\n      return this.topic.messages\n      .filter(m => !m.responseTo)\n    }\n  },\n};\n</script>\n\n<style scoped>\n.header {\n  cursor: pointer;\n}\n@media print {\n  .title {\n    display: none;\n  }\n}\n</style>","<template>\n  <div class=\"message-outer\">\n    <div class=\"message-data\" v-if=\"show_message_data\">\n      <div class=\"from\">{{ message.sender_full_name }}</div>\n      <div class=\"time\">{{ time }}</div>\n    </div>\n    <div :class=\"classes\" class=\"message\">\n      <vue3-markdown-it :source=\"content\" v-bind=\"$mdOpts\"></vue3-markdown-it>\n    </div>\n    <div class=\"message-data-reactions\" v-if=\"show_message_data\">\n      <span\n        class=\"reaction\"\n        v-for=\"reaction in message.reactions\"\n        :key=\"reaction\"\n      >\n        {{ String.fromCodePoint(\"0x\" + reaction.emoji_code) }}\n      </span>\n    </div>\n    <div class=\"reactions ui\">\n      <span v-for=\"reaction in reactions\" :key=\"reaction\" :title=\"reaction\">\n        {{ reaction }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emoji from \"../../mixins/emoji\";\nvar EmojiConvertor = require(\"emoji-js\");\nvar emojiConv = new EmojiConvertor();\n/*eslint no-unused-vars: \"off\"*/\n/*eslint no-undef: \"off\"*/\nexport default {\n  name: \"Message\",\n  props: [\"message\", \"show_message_data\"],\n  mixins: [emoji],\n  computed: {\n    rawJSON() {\n      return \"```json\\n\" + JSON.stringify(this.message, null, 2) + \"\\n```\";\n    },\n    content() {\n      let c = this.message.content.replace(\"\\n\", \"<br/>\");\n      // create absolute url on images and relative links\n      let url = process.env.VUE_APP_ZULIP_site;\n      c = c.replaceAll('src=\"', 'src=\"' + url);\n      c = c.replaceAll('href=\"/', 'href=\"' + url + \"/\");\n      // replace it with the mirror domain for uploads\n      // replace this: https://chat.hackersanddesigners.nl/user_uploads/\n      // with this: https://chatty-pub-files.hackersanddesigners.nl/files/\n      c = c.replaceAll(\n        url + \"/user_uploads/\",\n        \"https://chatty-pub-files.hackersanddesigners.nl/files/\"\n      );\n\n      const referrers = this.$store.state.topics\n        .find((t) => t.title == this.message.subject)\n        .messages.filter(\n          (m) =>\n            m.responseTo &&\n            m.responseTo.id == this.message.id &&\n            m.responseTo.sender_id == this.message.sender_id &&\n            this.message.content.includes(m.responseTo.quote)\n        );\n      // console.log(c, referrers);\n      referrers.forEach((m) => {\n        const classes = m.reactions.map((r) => \"u\" + r.emoji_code).join(\" \");\n        c = c.replace(\n          m.responseTo.quote,\n          `<span class=\"${classes}\">${m.responseTo.quote}</span>`\n        );\n        // console.log(c);\n      });\n      return c;\n    },\n    reactions() {\n      // return this.message.reactions.map((r) => {\n      //   console.log(r);\n      //   return emojiConv.replace_colons(\":\" + r.emoji_name + \":\");\n      // });\n      // return [];\n      return this.message.reactions.map((r) =>\n        emojiConv.replace_colons(\":\" + r.emoji_name + \":\")\n      );\n    },\n    classes() {\n      return this.message.reactions.map(\n        (r) => r.emoji_code + \" u\" + r.emoji_code\n      );\n    },\n    time() {\n      var ts = this.message.timestamp;\n      var ts_ms = ts * 1000;\n      var date_ob = new Date(ts_ms);\n      return date_ob.toLocaleString();\n    },\n  },\n  created() {\n    // console.log(this.message.content);\n  },\n};\n</script>\n\n<style>\n.message-outer {\n  position: relative;\n  display: block;\n}\n\n.message-outer:hover .reactions {\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  font-size: 3rem;\n  pointer-events: none;\n}\n.reactions,\n.reactions::before,\n.reactions::after {\n  all: revert;\n  display: none;\n}\n\n.reactions span {\n  pointer-events: initial;\n}\n\n.message-data {\n  display: flex;\n  border-bottom: 1px solid #666;\n}\n.message-data > div {\n  flex-grow: 1;\n}\n\n.message-data .from:after {\n  content: \":\";\n}\n.message-data .time {\n  text-align: right;\n}\n\n.message-data-reactions {\n  margin-bottom: 1em;\n}\n</style>","import { render } from \"./Message.vue?vue&type=template&id=76a5b3df\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=76a5b3df&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./Chapter.vue?vue&type=template&id=80b6d17a&scoped=true\"\nimport script from \"./Chapter.vue?vue&type=script&lang=js\"\nexport * from \"./Chapter.vue?vue&type=script&lang=js\"\n\nimport \"./Chapter.vue?vue&type=style&index=0&id=80b6d17a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-80b6d17a\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=c018ffc4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=c018ffc4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-c018ffc4\"\n\nexport default script","<template>\n  <section class=\"rules\">\n    <!-- <p class=\"title\">{{ $.type.name }}</p> -->\n    <Rule\n      v-for=\"rule in rules\"\n      :key=\"rule.id\"\n      :rule=\"rule\"\n    />\n  </section>   \n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport Rule from './Rule'\n\nexport default {\n  name: 'Rules',\n  components: { \n    Rule \n  },\n  computed: {\n    ...mapState([\n      'rules',\n    ])\n  },\n  watch: {\n    rules() {\n      console.log('rules')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.rules {\n  max-width: unset;\n}\n\n@media print {\n  .rules { display: none; } \n}\n</style>","<template>\n  <div class=\"rule\" :class=\"classes\" :style=\"rules\">\n    <pre v-if=\"rule.type === 'raw'\"\n      >{{ contentFiltered }}\n    </pre>\n    <span v-else-if=\"rule.type === 'font'\">\n      <pre :style=\"rules\">\n@font-face { \n  font-family: \"{{ font.family }}\"; \n  src: \"{{ font.src }}\" format({{ \"font.format\" }}); \n}</pre\n      >\n      <div class=\"instructions\">\n        <span\n          >Add the follow to your rule to use this font:<br />\n          font-family: \"{{ font.family }}\";\n        </span>\n      </div>\n    </span>\n    <template v-else>\n      <p :title=\"toEmojiCode(rule.className)\">{{ rule.className }} {</p>\n      <p v-for=\"dec in rule.rules\" :key=\"dec\">&nbsp; {{ dec }}</p>\n      <p>}</p>\n    </template>\n  </div>\n</template>\n\n<script>\nimport emoji from \"../../mixins/emoji\";\n\nexport default {\n  name: \"Rule\",\n  mixins: [emoji],\n  props: [\"rule\"],\n  computed: {\n    contentFiltered() {\n      let reg = this.emoji_regex;\n      let c = this.rule.content.replace(reg, (c) => {\n        return c + \", .u\" + this.toEmojiCode(c);\n      });\n\n      return c;\n    },\n    classes() {\n      return \"type-\" + this.rule.type;\n    },\n    font() {\n      return this.rule.content;\n    },\n    rules() {\n      if (this.rule.type !== \"font\") return this.rule.rules;\n      else return [\"font-family: \" + this.font.family + \";\"];\n    },\n  },\n};\n</script>\n\n<style scoped>\n.rule {\n  margin: 1em 0;\n  position: relative;\n}\n\n.rule p {\n  margin: 0;\n}\n\n.rule.type-raw,\n.rule.type-font {\n  background-color: #333;\n  color: #fff;\n  padding: 10px;\n  border-radius: 10px;\n  border: 1px solid black;\n  position: relative;\n}\n\n.rule.type-font:after,\n.rule.type-raw:after {\n  all: revert;\n  content: \"raw css\";\n  background-color: #333;\n  border-radius: 10px;\n  position: absolute;\n  bottom: -0.5em;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 5px 10px;\n  /* border: 1px solid white; */\n  font-family: sans-serif;\n  font-size: 0.8rem;\n  box-shadow: 0 0 5px 5px rgba(255, 255, 0, 0.7);\n}\n\n.rule.type-font:after {\n  content: \"generated font rule\";\n}\n\n.rule.type-font .instructions {\n  display: none;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  padding: 10px;\n  width: calc(100% - 40px);\n  height: calc(100% - 40px);\n  align-content: center;\n  justify-content: center;\n  align-items: center;\n  font-family: initial;\n  background-color: rgba(255, 255, 255, 0.9);\n  color: #000;\n  border-radius: 10px;\n  box-shadow: 0 0 5px 5px white;\n}\n\n.rule.type-font:hover .instructions {\n  display: flex;\n}\n</style>","import { render } from \"./Rule.vue?vue&type=template&id=080e408c&scoped=true\"\nimport script from \"./Rule.vue?vue&type=script&lang=js\"\nexport * from \"./Rule.vue?vue&type=script&lang=js\"\n\nimport \"./Rule.vue?vue&type=style&index=0&id=080e408c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-080e408c\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=16b43aee&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=16b43aee&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-16b43aee\"\n\nexport default script","import { render } from \"./Home.vue?vue&type=template&id=71897d50\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=71897d50&lang=css\"\nscript.render = render\n\nexport default script","/* eslint-disable */\n\n<template>\n  <div class=\"docs markdown-body\">\n    <ul>\n      <li><router-link to=\"/\">Back to Chattypub</router-link></li>\n      <li v-for=\"(file, key) in files\" :key=\"key\">\n        <a :href=\"'#' + key\" @click=\"select(key)\">{{ key }}</a>\n      </li>\n    </ul>\n    <div v-if=\"selected\">\n      <vue3-markdown-it :source=\"source\" :html=\"true\" v-bind=\"$mdOpts\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueMarkdownIt from \"vue3-markdown-it\";\n/*eslint no-unused-vars: \"off\"*/\n/*eslint no-undef: \"off\"*/\nimport css from \"../../docs/CSS.md\";\nimport workshop from \"../../docs/Workshop.md\";\nimport chattypub from \"../../docs/Chattypub.md\";\nimport \"github-markdown-css/github-markdown.css\";\n\nexport default {\n  name: \"Docs\",\n  components: [VueMarkdownIt],\n  data() {\n    return {\n      files: { Workshop: workshop, Chattypub: chattypub, CSS: css },\n      selected: \"\",\n    };\n  },\n  computed: {\n    source() {\n      return this.files[this.selected];\n    },\n  },\n  methods: {\n    select(key) {\n      this.selected = key;\n    },\n    getFileName(url, includeExtension) {\n      var matches =\n        url &&\n        typeof url.match === \"function\" &&\n        url.match(/\\/?([^/.]*)\\.?([^/]*)$/);\n      if (!matches) return null;\n\n      if (includeExtension && matches.length > 2 && matches[2]) {\n        return matches.slice(1).join(\".\");\n      }\n      return matches[1];\n    },\n  },\n};\n</script>\n\n<style scoped>\n.docs {\n  padding: 1em;\n  max-width: 800px;\n  width: 100%;\n  margin: 1em auto;\n}\n</style>","export default \"# CSS\\n\\nIn this document we take a look at what CSS is and how it can be applied to a publication in ChattyPub.\\n\\n- [What is CSS](#what-is-css)\\n- [Rules](#rules)\\n- [Css in ChattyPub](#css-in-ChattyPub)\\n- [Uploading fonts](#uploading-fonts)\\n- [Print settings](#print-settings)\\n\\n---\\n\\n## What is CSS?\\n\\nCSS (Cascading Style Sheets) is the language that allows you to style and layout HTML web pages. This article explains what CSS is, with some simple syntax examples, and also covers some key terms about the language.\\n\\nSince this document relates specifically to ChattyPub, the focus is going to be on the parts of the language that are supported by this platform. Because CSS is specifically oriented towards styling HTML (and related languages like SVG and XML) you have to have a basic understanding of HTML.<sup>[1](#footnote1)</sup> Mozilla has an excellent [HTML introduction](https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Getting_started).\\n\\nAt its heart, HTML is a fairly simple language made up of elements, which can be applied to pieces of text to give them different meaning in a document (Is it a paragraph? Is it a bulleted list? Is it part of a table?), structure a document into logical sections (Does it have a header? Three columns of content? A navigation menu?), and embed content such as images and videos into a page.\\nBut what HTML does not do is speficy how these elements should look. That is where CSS comes in.\\n\\nCSS can be used for very basic document text styling  for example changing the color and size of headings and links. It can be used to create layout  for example turning a single column of text into a layout with a main content area and a sidebar for related information. It can even be used for effects such as animation.\\nIn ChattyPub we're mostly interested in the first part.\\n\\n---\\n\\n## Rules\\n\\n#### _Elements and Classes_\\n\\nIn this section we will talk about CSS in general. ChattyPub uses a slight variation on it, but let's start with the basics.\\n\\nCSS is a rule-based language  you define rules specifying groups of styles that should be applied to particular elements or groups of elements on your web page. For example \\\"I want the main heading on my page to be shown as large red text.\\\"\\n\\nThe following code shows a very simple CSS rule that would achieve the styling described above:\\n\\n```css\\nh1 {\\n  color: red;\\n  font-size: 20px;\\n}\\n```\\n\\nThe rule opens with a selector. This selects the HTML element that we are going to style. In this case we are styling all level one headings (`<h1>`) that appear on the page.\\n\\nWe then have a set of curly braces `{` `}`. Inside those will be one or more declarations, which take the form of property and value pairs. Each pair specifies a property of the element(s) we are selecting, then a value that we'd like to give the property. Each pair is followed by a semi-colon `;` to indicate the end of the property.\\n\\nBefore the colon, we have the property, and after the colon, the value. CSS properties have different allowable values, depending on which property is being specified. In our example, we have the color property, which can take various color values. We also have the font-size property. This property can take various size units as a value.\\n\\nThe example above will style all the `H1` elements on the page. You could also write a selector for all paragraphs (the selector would be `p`), images (`img`) or list items (`li`). This works as long as you want all of the elements of that type in your document to look the same. Most of the time that isn't the case and so you will need to find a way to select a subset of the elements without changing the others. The most common way to do this is to add a class to your HTML element and target that class.\\n\\nTake this HTML:\\n\\n```html\\n<ul>\\n  <li>Item one</li>\\n  <li class=\\\"special\\\">Item two</li>\\n  <li>Item <em>three</em></li>\\n</ul>\\n```\\n\\nTo target the class of special you can create a selector that starts with a full stop character.\\n\\n```css\\n.special {\\n  color: orange;\\n  font-weight: bold;\\n}\\n```\\n\\nThe peroid character in front of special tells the browser that we're creating a class selector.\\nYou can apply the class of special to any element on your page that you want to have the same look as this list item.\\n\\n### Units\\n\\nIn the `h1` example above, we set the following property: `font-size: 20px;`. This will set the font-size of all H1 headers to 20 pixels. But pixels are not the only units available. Some examples:\\n\\n- `em` and `rem` - these relative units declare a size dependant on the font-size of the context they get used in. This can be a bit confusing if you're not used to it. Feel free to replace it with on of the values below.\\n- `px` - Pixels.\\n- `cm` and `in` - centimeters and inches. These units are mostly relevant in print context.\\n- `vw` and `vh` - so called viewport units, 100vw is exactly the height of the viewport (the part of the browser that shows the webpage). `vh` is the same, but for the height of the browser.\\n- `rgba(r,g,b,a)` strictly speaking not a unit but a function, but it sets the color and transparency of the foreground.\\n\\n[More information on units](https://www.w3.org/Style/Examples/007/units.en.html).\\n\\n---\\n\\n## CSS in ChattyPub\\n\\nWhen you react to a message in Zulip with an emoji, this emoji gets turned into a class in ChattyPub. So lets say you responded to a message with the strawberry  emoji. In ChattyPub the message will have class with that emoji as selector. (You can confirm this by rolling over the message, the emoji should popup on a overlay.) So now to style that message, you go to the `#rules` channel and add a message with the following content:\\n\\n```css\\n {\\n  color: red;\\n}\\n```\\n\\nIt is very similar to the examples above. `` is the selector, so the rule will apply to each message with a strawberry reaction. Then follows the block `{` and `}`. And in the block, there is property, `color: red;`.\\n\\n_A small difference with regular CSS is that you don't need to add the period in front of the selector ChattyPub will handle that for you._\\n\\nBecause of the way Zulip handles the emoji reactions, not all emoji are available or sometimes they don't exactly correspond to the emoji you might type in the `#rules` channel. To help with sorting this out you can roll over a message in ChattyPub and see the reactions that are applied. Sometimes the translation is unavailable, in that case you'll see something like `:working_on_it:` instead of the emoji you expected. In that case remove your reaction and find an other emoji that does work.\\n\\n### About formatting\\n\\nYou can't enter a tab character in Zulip and the indentation before the property in the rule isn't absolutely necessary. So feel free to leave it out. If you absolutely want to have the indentation, you could write the rule in your favorite editor and copy and paste it into Zulip. If you only want to style a single property you could have the whole rule on a single line like this: ` { box-shadow: 0 0 20px rgba(255,0,0,0.5); }`,\\n\\n_Don't forget the semi-colon at the end of the property line!_\\n\\n### Advanced CSS\\n\\n**Selecting HTML elements and other style rules**\\n\\nThe reaction/emoji method described above allows to make quick modifications to the style and layout of your publication. But besides this ChattyPub also allows you to style html elements like in regular CSS. To do this just enter your style rule. This snippet will give all HTML links a pink background color:\\n\\n```css\\na {\\n  background-color: pink;\\n}\\n```\\n\\nYou should be able to enter all regular CSS rules this way.\\n\\n**Bypassing the parser** -_Work in progress_-\\n\\nIt is possible to bypass the parser and add arbitrary code to the CSS on the page. This allows you to add, for example, `@keyframes` for an animation or media queries. To do this send any message to the #rules channel and wrap the message in three backticks like this:\\n\\n<code>\\n```\\n@keyframes example {\\n  from {background-color: red;}\\n  to {background-color: yellow;}\\n}\\n```\\n</code>\\n\\n---\\n\\n## Uploading fonts\\n\\nIt is also possible to upload a custom font to the application. To do this, you send the font in a message to the #rules channel of the publication you want to use it in. You can use `.ttf`, `.otf` or `.woff` formats depending on the browser you are using. The mesage must only contain the font, no other text. ChattyPub will then automatically generate a @font-face rule for the font. The font-family name will be based on the filename.\\n\\nOnce uploaded the font should show up in the CSS rules section of ChattyPub. To use the font in a style rule, just copy/paste the `font-family: \\\"font_name_ttf\\\";` and add it to a rule in the #rules channel.\\n\\n> Please only upload free or open-source fonts to our server!\\n\\n## Print settings\\n\\nTo set the paper size we can use the special selector `@page`. The following snippet set the page size to A5.\\n\\n```css\\n@page {\\n  size: 148mm 210mm;\\n}\\n```\\n\\nRegrettably [browser support](https://caniuse.com/css-paged-media) for `@page` is spotty. Currently only MS Edge, Opera and Google Chrome will allow you to set page sizes etc.\\n\\n[Pagedmedia.org](https://www.pagedmedia.org/pagedjs-sneak-peeks/) has an excellent explanation on using `@page`. The [Paged media module](https://developer.mozilla.org/en-US/docs/Web/CSS/Paged_Media) at Mozilla as well.\\n\\n### page breaks\\n\\nBy default pages will automatically wrap to the next page. And ChattyPub adds a page break after each topic. If you want to force a page break you could write a rule for it, using the `page-break-after: always;` property:\\n\\n```\\n {\\npage-break-after: always;\\n}\\n```\\n\\nFor some of these rules it may be necessary to use the methods described under [Advanced CSS](#advanced-css) above to enter these rules.\\n\\n## List of common and handy CSS properties\\n\\nThere are hundreds of CSS properties. Below is a small selection of some basic properties mostly focussed on layout and type representation, grouped by module.\\n\\n### Backgrounds and borders\\n\\n- [background-color](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color)\\n- [border](https://developer.mozilla.org/en-US/docs/Web/CSS/border) - The border CSS property sets an element's border.\\n- [border-radius](https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius) - The border-radius CSS property rounds the corners of an element's outer border edge.\\n- [box-shadow](https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow) - The box-shadow CSS property adds shadow effects around an element's frame.\\n\\n### Color\\n\\n- [color](https://developer.mozilla.org/en-US/docs/Web/CSS/color) - The color CSS property sets the foreground color value of an element's text and text decorations.\\n- [opacity](https://developer.mozilla.org/en-US/docs/Web/CSS/opacity) - The opacity CSS property sets the opacity of an element. Opacity is the degree to which content behind an element is hidden, and is the opposite of transparency.\\n\\nA colors value can defined in multiple ways:\\n\\n- By [name/keyword](http://web.simmons.edu/~grovesd/comm244/notes/week3/css-colors#keywords) - `color: red;` will make your text red.\\n- By [hex value](http://web.simmons.edu/~grovesd/comm244/notes/week3/css-colors#hex) - `color: #ff0000;` also red.\\n- Or as a [function](http://web.simmons.edu/~grovesd/comm244/notes/week3/css-colors#rgba), which allows transparency. - `color: rgba(255,0,0,0.5);` red, but 50% transparent.\\n\\n### Box model\\n\\n- [margin](https://developer.mozilla.org/en-US/docs/Web/CSS/margin) - The margin property sets the margin area on all four sides of an element. Margin refers to space between different elements.\\n- [padding](https://developer.mozilla.org/en-US/docs/Web/CSS/padding) - The padding property sets the padding area on all four sides of an element at once. Padding refers to the spacing inside the border of an element.\\n\\n### Fonts\\n\\n- [font-family](https://developer.mozilla.org/en-US/docs/Web/CSS/font-family) - The font-family CSS property specifies a prioritized list of one or more font family names and/or generic family names for the selected element.\\n\\nYou can choose one of the following generic fonts. Which exact font will be used is dependant on your computers' settings.\\n\\n```css\\nfont-family: serif;\\nfont-family: sans-serif;\\nfont-family: monospace;\\nfont-family: cursive;\\nfont-family: fantasy;\\n```\\n\\nIt is also possible to specify an exact font name, but it will only be used if it is actually available on your system.\\nFor example following statement will try to use Helvetica if available, but will fallback on a generic sans-serif font if not. (Note the quotes around the font name).\\n\\n```css\\nfont-family: \\\"Helvetica Neue\\\", sans-serif;\\n```\\n\\nAlso see the section on uploading fonts below.\\n\\n- [font-size](https://developer.mozilla.org/en-US/docs/Web/CSS/font-size) - The font-size CSS property sets the size of the font. Changing the font size also updates the sizes of the font size-relative <length> units, such as em, ex, and so forth.\\n- [font-style](https://developer.mozilla.org/en-US/docs/Web/CSS/font-style) - The font-style CSS property sets whether a font should be styled with a normal, italic, or oblique face from its font-family.\\n- [font-weigh](https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight) - The font-weight CSS property sets the weight (or boldness) of the font. The weights available depend on the font-family that is currently set.\\n- [line-height](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height) - The line-height CSS property sets the height of a line box. It's commonly used to set the distance between lines of text.\\n\\n### Text\\n\\n- [letter-spacing](https://developer.mozilla.org/en-US/docs/Web/CSS/letter-spacing) - The letter-spacing CSS property sets the horizontal spacing behavior between text characters.\\n- [text-align](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align) - The text-align CSS property sets the horizontal alignment of the content inside a block element.\\n- [text-transform](https://developer.mozilla.org/en-US/docs/Web/CSS/text-transform) - The text-transform CSS property specifies how to capitalize an element's text. It can be used to make text appear in all-uppercase or all-lowercase, or with each word capitalized.\\n- [white-space](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space) - The white-space CSS property sets how white space inside an element is handled.\\n- [word-break](https://developer.mozilla.org/en-US/docs/Web/CSS/word-break) - The word-break CSS property sets whether line breaks appear wherever the text would otherwise overflow its content box.\\n- [word-spacing](https://developer.mozilla.org/en-US/docs/Web/CSS/word-spacing) - The word-spacing CSS property sets the length of space between words and between tags.\\n- [text-shadow](https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow) - The text-shadow CSS property adds shadows to text.\\n\\n### Transforms\\n\\n- [rotate](https://developer.mozilla.org/en-US/docs/Web/CSS/rotate) - The rotate CSS property allows you to specify rotation of elements\\n- [scale](https://developer.mozilla.org/en-US/docs/Web/CSS/scale) - The scale CSS property allows you to specify the scale (size) of elements\\n- [translate](https://developer.mozilla.org/en-US/docs/Web/CSS/translate) - The translate CSS property allows you to specify translation transforms (position relative to where it originally was) of elements.\\n\\n<a name=\\\"footnote1\\\">1</a>: I've borrowed shamelessly from Mozilla to make this text: https://developer.mozilla.org/en-US/docs/Learn/CSS/First_steps/What_is_CSS and https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML\\n\";","export default \"# ChattyPub Workshop Script\\n\\n## Introduction\\n\\nChattyPub is a design tool in the making  leveraging a chat interface to apply styles and formats to the content of a publication.\\n\\nThe workshop will explore in a practical manner how the process of co-designing a publication can unfold, specifically when several people are working at the same time using a chat interface as the main design tool. During HDSA2021 we would like to open up the process of making this tool and explore together its possibilities and limitations. The workshop will take place towards the end of the one-week summer academy program. Thus, we will be able to use some of the documentation produced during the week  workshops scripts, prototypes, game cards, recipes, ... as well as conversations we will have on different platforms  synchronously and asynchronously.\\n\\nCommands allow you to style the texts and images, but someone else can change their appearance again later! How will we negotiate these design decisions synchronously and asynchronously? The outcome could be a zine, posters or a webpage.\\n\\nThis script aims to provide the necessary instructions to host a workshop around ChattyPub that can accomodate different skills and knowledges in different contexts.\\n\\n## Goals\\n\\n- Learn to collaboratively write, design, and print documents using ChattyPub\\n- Produce publications of / relating to HDSA2021 (documentation, prototypes, conversations, etc...)\\n- Learn and/or practice styling with CSS & Emojis\\n\\n## Requirements\\n\\n- a computer, web-browser, and connection to the internet\\n- an account for the Hackers & Designers Zulip instance: https://chat.hackersanddesigners.nl/\\n- a printer\\n\\n## Preparation\\n\\nBefore the summer academy: Most important is for all workshop participants to set up a Zulip account on our server. The H&D zulip instance can be found at https://chat.hackersanddesigners.nl/ (public sign ups are temporariy open).\\n\\nOn the first day of the summer academy (monday): Participants are introduced to the Zulip interface and instructed to use it for communication during the course of the week. Zulip makes use of a rather unconventional (but powerful) chat-threading logic, so it would be good to spend some time interacting with it and settle into this new environment.\\n\\nWorkshop hosts and participants are encouraged to think about how they would like to document their processes during the summer academy. What is included and what isn't? How is this shared? Is there a regular moment during the day dedicated to documentation or is it more ad-hoc? We suggest using Etherpad for collaborative note taking, and regularly making screenshots or screenrecordings and photos. We have previously compiled a so-called \\\"tool-ecology\\\", a list of tools we have good experiences with and recommend using during the summer academy: https://etherpad.hackersanddesigners.nl/p/hdsa2021-tool-ecology.\\n\\nTexts, notes, chats, images, and screenshots will make great material for our workshop.\\n\\n## How It Works\\n\\nFor an overview of how ChattyPub works with Zulip, go [here](#Chattypub).\\n## Workshop\\n\\nThe workshop is split over two sessions (over two days) of 4 hours each.\\n\\n_Opening Session: Introductions & first encounters with ChattyPub_\\n\\n- Introductory presentation ( 1hr ) -- will be livestreamed in the morning / recorded and shared afterwards.\\n  - Context and background on H&D's publishing activities (Anja & Juliette)\\n  - Introduction to ChattyPub (Karl).\\n  - Introduction to CSS (Heerko).\\n  - How it all comes together (emojis ;])(Karl)\\n- Experimenting with ChattyPub! ( 2 hrs )\\n  - participants with different levels of experience of CSS are grouped together\\n  - each group follows [these instructions](#content) to make one publication in ChattyPub\\n  - detailed instructions about CSS can be found [here](#CSS)\\n- Brainstorm Session (1 hr) [also for the brainstorm it would be nice to add some suggestions for how to do this if you are not in Amsterdam and maybe not even togeter in a room.]\\n  - in groups of 2-3, participants brainstorm publications they will make during the main session [Is this brainstorm about content? or about the negotiation process for the layout? can we come up with a format for the brainstorm or some questions as an aid?]\\n  - If you are planning to print your publication, take into account the printing limitations of your home printer or local print shop [take into account in what way? regarding the format? will i need to adjust something in the css? or in regards to bw/color? ]\\n\\n_Main Session: Chat => Print_\\n\\n- Making publications ( 2 hrs )\\n  - Groups work on the publications planned in the previous session [how? will there be channels prepared? are people making their own channels?]\\n  - Organizers are available to help where needed [who are the organizers? in vienna and pittsburgh people will be online on their own.. how do they prepare for that?]\\n- Printing Publications ( 1 hr )\\n  - A printer is required in the space (or easily accessible)\\n  - Accommodating for different paper sizes is an added bonus\\n  - Binding could be fun too\\n- Sharing outcomes and reflections ( 1 hr ) [add link and time in different time zones]\\n  - Round of publications\\n  - Reflection on process\\n  - Feedback on ChattyPub\\n\";","export default \"# ChattyPub\\n\\nChattyPub is a design tool in the making  leveraging a chat interface to apply styles and formats to the content of a publication. ChattyPub is a collaborative publication/zine-making tool built on top of the chat platform [Zulip](https://chat.hackersanddesigners.nl). By sending messages, reacting with emoji and writing simple CSS style rules the publication can be collectively designed.\\n\\n- [Zulip](#zulip)\\n- [ChattyPub](#using-chattypub)\\n- [Making a publication with Zulip & ChattyPub](#content)\\n  - [Content](#content)\\n  - [Rules](#rules)\\n  - [Printing](#printing)\\n- [Typing Emoji](#typing-emoji)\\n- [Problems?](#problems)\\n\\n## Zulip\\n\\nOn Zulip, conversations are categorized into different \\\"Streams\\\", which are comparable to \\\"channels\\\" in other messaging services like Discord. Streams can be public or private and host conversations consisting of text, images, files, reactions, etc..\\n\\nWhat differentiates Zulip from most messaging platforms is the way streams are sub-threaded. Zulip introduces the concept of \\\"Topics\\\", which, in the plainest terms, means that messages have subjects. When sending a message to a stream in Zulip, you can also specify the topic of the message and the stream automatically filters messages by their shared topics. If your message's topic doesn't exist yet, it will be created when you send your message.\\n\\nZulip allows you to react to messages using emoji's as well. We will make heavy use of emojis in ChattyPub.\\n\\nThere are several ways to engage with Zulip, including a web-client, a desktop app, and a mobile app.\\n\\n## Using ChattyPub\\n\\nhttp://chatty-pub.hackersanddesigners.nl\\n\\nChattyPub is a website that acts as a different interface to the same Zulip service. ChattyPub takes a stream from Zulip, combines messages into long-form articles and uses a design system combining Emojis and CSS syntax to style the messages, effectively turning the stream into a (printable!) webpage.\\n\\n## Making a publication with Zulip & ChattyPub\\n\\n### Content\\n\\n1. Create a stream on Zulip\\n   - Ensure that either (1) the stream name starts with `pub-` or (2) the stream includes a topic called \\\"rules\\\" (more on that later).\\n   - Ensure that the stream is public.\\n2. Go to [ChattyPub](https://chatty-pub.hackersanddesigners.nl). The stream you created will be visible on the left-side navigation.\\n3. Click on your stream.\\n4. The main (middle) section of the website will have:\\n   1. Your stream name (which will be the name of your publication)\\n   2. The topics of your stream organized into a table of contents (which will act as \\\"Chapters\\\" in your publication)\\n   3. The topics, in alphabetical order, displaying their messages, in chronological order.\\n5. To create a new topic (chapter), return to Zulip and type a message to your stream, making sure to send it to the topic you want to create.\\n\\n### Rules\\n\\nThe right-hand side of the ChattyPub interface is reserved for one topic in your stream: \\\"rules\\\". This topic will house definitions for styles you want to apply to messages in your stream.\\n\\nGo back to Zulip and create the topic in your stream called \\\"rules\\\".\\n\\nEvery message you send to this topic should consist of a single emoji followed by a set of styles you'd like applied to messages. For example:\\n\\n```CSS\\n {\\n  color: red;\\n  text-decoration: underline;\\n}\\n```\\n\\nThese messages should be unique and follow the CSS syntax, as described in the [introduction to CSS](#CSS). If you are comfortable with CSS, you can skip to the part of the document that describes [how CSS is used in ChattyPub](#css-in-chatty-pub).\\n\\nTo apply these styles to the contents of your publication, head back to any other topic in your stream, select a message you'd like to style, and react to it with the emoji whose styles you want to apply. On ChattyPub, the message should be rendered with these styles.\\n\\nIf you'd like to style only a part of a message, select the message in Zulip and quote and respond to it (in the 3-dot menu). This will produce a text in your input box on the bottom of the interface. Delete the parts of the quoted message that you don't want the styles applied to, and send your response. When you react with an emoji to your own response, the part of the original message you quoted will inherit the styles defined for that emoji.\\n\\nKeep in mind that you can edit your own messages! So if you make a mistake (forgetting the semi-colon at the end of a statement is a common one), roll over your message and click the little pen at the top righthand side of the message.\\n\\n### Printing\\n\\n> Regrettably support for setting page size, page breaks etc. using [@page](https://caniuse.com/css-paged-media) is very poor in some browsers. Use MS Edge, Opera or Google Chrome for best results when printing or creating PDFs.\\n\\nTo print, click on the print button on the left side of the application. This will hide the interface, make all content visible and open the browsers' Printing dialog box.\\n\\nIf you want to use background colors or background images in your publication you may have to turn that on in the print settings dialog.\\n\\nThere is more information on setting up pages sizes etc, in the CSS document.\\n\\n## Typing Emoji\\n\\n- [Windows](https://support.microsoft.com/en-us/windows/windows-10-keyboard-tips-and-tricks-588e0b72-0fff-6d3f-aeee-6e5116097942)\\n- [Mac](https://www.howtogeek.com/684025/how-to-type-emoji-on-your-mac-with-a-keyboard-shortcut/)\\n- Linux varies per distribution. If you run Linux you're probably capable of finding out how :)\\n\\n## Problems\\n\\nChattyPub is very young and you're sure to run into problems. Feel free to contact `@Karl Moubarak`, `@andr` or `@heerko` at https://chat.hackersanddesigners.nl/\\n\\nBelow are some things that we know of, and are working on:\\n\\n- :emoji: not working...\\n\";","import { render } from \"./Docs.vue?vue&type=template&id=b2769a1a&scoped=true\"\nimport script from \"./Docs.vue?vue&type=script&lang=js\"\nexport * from \"./Docs.vue?vue&type=script&lang=js\"\n\nimport \"./Docs.vue?vue&type=style&index=0&id=b2769a1a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b2769a1a\"\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router'\n\nimport Home from '../views/Home'\nimport Docs from '../views/Docs.vue'\n\nconst path = '/' \n\nexport default createRouter({\n  history: createWebHistory(path),\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home,\n    },\n    {\n      path: '/docs',\n      name: 'Docs',\n      component: Docs,\n    },\n    {\n      path: '/:pathMatch(.*)*',\n      name: 'Home',\n      component: Home,\n    },\n  ],\n})\n\n\n","/*eslint no-unused-vars: \"off\"*/\n/*eslint no-undef: \"off\"*/\n\n// import Vue from 'vue'\nimport { createStore } from 'vuex'\nimport emoji from \"../mixins/emoji\"\nimport { stripHtml } from \"string-strip-html\"\n\nvar EmojiConvertor = require('emoji-js');\nvar emojiConv = new EmojiConvertor();\n\nlet toCSS = (message, currentStream) => {\n  let content = stripHtml(message.content).result;\n  let className = \"\",\n    emoji_code = \"\",\n    rules = [],\n    parentClassName = currentStream,\n    id = message.id,\n    is_codeblock = message.content.includes(\"<code>\") || message.content.startsWith(\"```\"),\n    is_font = /<p><a href=\".+?\\.(ttf|otf|woff)/gm.test(message.content);\n  // let regex = /[/s]?(?<selector>.+)\\s*\\n?{\\n?(?<prop>[\\s\\w.~:>-]+\\s*:\\s*.+;?\\n?)*\\n?}/gm\n\n  let type = is_codeblock ? \"raw\" : is_font ? \"font\" : \"rule\"; // okay okay okay, i know this is ugly :)\n\n  let regex = /\\s?(?<selector>.+)\\s*\\n?{\\n?(?<props>(.*;\\n?)+)}/gm\n  let results = content.matchAll(regex);\n  results = Array.from(results);\n  if (is_font) { // font\n    let re_path = /\\/user_uploads(\\/.*?\\.(?:ttf|otf|woff))/gm;\n    // content = message.content.matchAll(re_path);\n    content = re_path.exec(message.content)[1];\n    // console.log(message.content, content)\n    return { className: '', emoji_code: '', rules: [], parentClassName: '', id: id, content: font(content), type: type }\n  } else if (results.length > 0) { // rule and raw\n    className = emojiConv.replace_colons(results[0]['groups']['selector']);\n    if (emoji.methods.containsEmoji(className)) {\n      emoji_code = emoji.methods.toEmojiCode(className);\n    }\n    rules = results[0]['groups']['props'].split(\"\\n\");\n    rules = rules.filter((rule) => validateRule(rule))\n    return { className, emoji_code, rules, parentClassName, id, content, type };\n  }\n  return null;\n}\n\nlet font = (content) => {\n  let font = {\n    family: \"\",\n    src: \"\",\n    format: \"\",\n  };\n  let path = content;\n  let filename = getFilename(path);\n  let ext = filename.split(\".\").pop();\n  font.src =\n    \"https://chatty-pub-files.hackersanddesigners.nl/files\" + path;\n  font.format = getFormat(ext);\n  font.family = filename.replace(\".\", \"_\");\n  return font;\n}\n\nlet getFilename = (str) => {\n  return str.split(\"\\\\\").pop().split(\"/\").pop();\n}\n\nlet getFormat = (ext) => {\n  let fmt = \"truetype\";\n  switch (ext) {\n    case 'woff':\n      fmt = \"woff\";\n      break;\n    case 'eof':\n      fmt = \"embedded-opentype\";\n      break;\n  }\n  return fmt;\n}\n\nlet validateRule = (rule) => {\n  return rule.match(/.+:.+;/gm);\n}\n\n// parsing replies, there are two scenarios:\n// we are either getting the message as plain markdown\n// or we are getting the message pre-rendered as HTML (default Zulip behaviour)\n// see /src/api/zulip/index.js line 36\n\nconst handleMDReply = message => {\n  message.responseTo = {\n    id: message.content\n      .replace(/.*\\/near\\//gm, '')\n      .replace(/\\):.*[^]+/gm, ''),\n    sender_id: message.content\n      .replace(/@_\\*\\*.*\\|/gm, '')\n      .replace(/\\*\\*.\\[said\\].*[^]+/gm, ''),\n    quote: message.content\n      .replace(/[^]+.*```quote\\n/gm, '')\n      .replace(/ \\n```/gm, '')\n  }\n  // console.log(message.responseTo)\n}\n\nconst handleHTMLReply = message => {\n  message.responseTo = {\n    id: message.content\n      .replace(/.*\\/near\\//gm, '')\n      .replace(/\".*[^]+/gm, ''),\n    sender_id: message.content\n      .replace(/[^]+data-user-id=\"/gm, '')\n      .replace(/\">[^]+/gm, ''),\n    quote: message.content\n      .replace(/.*[^]+<\\/p>\\n<blockquote>\\n<p>/gm, '')\n      .replace(/<\\/p>\\n<\\/blockquote>/gm, '')\n    // .replace(/\\n/gm, '')\n  }\n  console.table(message.responseTo)\n}\n\nexport default createStore({\n\n  strict: process.env.NODE_ENV !== 'production',\n\n  state: {\n    isMobile: false,\n    streams: [],\n    currentStream: '',\n    rules: [],\n    topics: [],\n    pubStr: 'pub-',\n  },\n\n  mutations: {\n\n    setMobile: (state, mobile) => state.isMobile = mobile,\n    setStreams: (state, streams) => state.streams = streams,\n    setCurStream: (state, stream) => state.currentStream = stream,\n    setTopics: (state, topics) => state.topics = topics,\n    addMessage: (state, message) => {\n      if (message.display_recipient == state.currentStream) {\n        if (message.content.startsWith('@_**')) {\n          handleMDReply(message)\n        } else if (\n          message.content.includes('user-mention') &&\n          message.content.includes('blockquote')\n        ) {\n          handleHTMLReply(message)\n        }\n        const topic = state.topics.find(topic => topic.title == message.subject)\n        if (topic) {\n          topic.messages.push(message)\n        } else {\n          state.topics.push({\n            title: message.subject,\n            messages: [message]\n          })\n        }\n      }\n    },\n    deleteMessage: (state, { mid, subject }) => {\n      const topic = state.topics.find(t => t.title == subject)\n      if (topic) {\n        const message = topic.messages.find(m => m.id == mid)\n        if (message) {\n          topic.messages.splice(topic.messages.indexOf(message), 1)\n        }\n      }\n    },\n    addReaction: (state, { mid, reaction }) => {\n      const message = state.topics\n        .map(t => t.messages)\n        .flat()\n        .find(m => m.id == mid)\n      if (message) {\n        message.reactions.push(reaction)\n      }\n    },\n    removeReaction: (state, { mid, reaction }) => {\n      const message = state.topics\n        .map(t => t.messages)\n        .flat()\n        .find(m => m.id == mid)\n      if (message) {\n        message.reactions.splice(message.reactions.indexOf(reaction), 1)\n      }\n    },\n    setRules: (state, rules) => {\n      state.rules = rules.reduce((acc, cur) => {\n        let rule = toCSS(cur, state.currentStream);\n        if (rule !== null) {\n          acc.push(rule);\n        }\n        return acc\n      }, [])\n    },\n    addRule: (state, rule) => {\n      if (toCSS(rule) !== null) {\n        // state.rules.push(toCSS(rule, state.currentStream))\n        // vue will not update if i use rules.push(rule)\n        state.rules = [...state.rules, ...[toCSS(rule, state.currentStream)]]\n      }\n    },\n    editMessage: (state, { mid, content }) => {\n      const message = state.topics\n        .map(t => t.messages)\n        .flat()\n        .find(m => m.id == mid)\n      const rule = state.rules.find(r => r.id == mid)\n      if (message) {\n        message.content = content\n        if (message.content.startsWith('@_**')) {\n          handleMDReply(message)\n        } else if (\n          message.content.includes('user-mention') &&\n          message.content.includes('blockquote')\n        ) {\n          handleHTMLReply(message)\n        }\n      } else if (rule) {\n        // state.rules[state.rules.indexOf(rule)] = toCSS({\n        //   id: mid, content: content,\n        // }, state.currentStream)\n\n        // vue will not update if i use rules.push(rule)  \n        state.rules.splice(state.rules.indexOf(rule), 1)\n        const newRules = [...state.rules, ...[toCSS({\n          id: mid, content: content,\n        }, state.currentStream)]]\n        state.rules = newRules\n      }\n    },\n\n    updateTopic: (state, { orig_subject, subject }) => {\n      const topic = state.topics.find(t => t.title == orig_subject)\n      if (topic) {\n        topic.title = subject\n        topic.messages.forEach(m => m.subject = subject)\n      }\n    }\n\n  },\n\n  actions: {\n  },\n\n  getters: {\n    rules: state => state.rules,\n    sortedTopics: state => (\n      [...state.topics]\n        .sort((a, b) => a.title.localeCompare(b.title))\n        .filter(t => (\n          t.messages.length > 0 &&\n          t.title != 'stream events'\n        ))\n    )\n  }\n\n})\n","import { createApp }  from 'vue'\nimport App            from './App'\nimport Axios          from 'axios'\nimport MarkdownIt     from 'markdown-it'\nimport VueMarkdownIt  from 'vue3-markdown-it'\nimport router         from './router'\nimport store          from './store'\n\nimport 'highlight.js/styles/vs.css';\n\nconst app = createApp(App)\n\nconst mdOpts = {\n  html: true,\n  linkify: true,\n  typographer: true\n}\n\napp.config.globalProperties.$http   = Axios\napp.config.globalProperties.$mdOpts = mdOpts\napp.config.globalProperties.$md     = new MarkdownIt(mdOpts)\n\napp\n  .use(VueMarkdownIt)\n  .use(router)\n  .use(store)\n  .mount('#app')\n\n\n\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=6d28ae45&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Docs.vue?vue&type=style&index=0&id=b2769a1a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=71897d50&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Rule.vue?vue&type=style&index=0&id=080e408c&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Message.vue?vue&type=style&index=0&id=76a5b3df&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Chapter.vue?vue&type=style&index=0&id=80b6d17a&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Stream.vue?vue&type=style&index=0&id=1af39708&scoped=true&lang=css\""],"sourceRoot":""}